<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이미지 마우스 따라다니기</title>
    <style>
        body {
            height: 100vh; /* 전체 높이 100vh */
            width: 100vw; /* 전체 넓이 100vw */
            margin: 0; /* 기본 마진 제거 */
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="white" stroke="black" stroke-width="10" d="M153.7 144.8c6.9 16.3 20.6 31.2 38.3 31.2l192 0c17.7 0 31.4-14.9 38.3-31.2C434.4 116.1 462.9 96 496 96c44.2 0 80 35.8 80 80c0 30.4-17 56.9-42 70.4c-3.6 1.9-6 5.5-6 9.6s2.4 7.7 6 9.6c25 13.5 42 40 42 70.4c0 44.2-35.8 80-80 80c-33.1 0-61.6-20.1-73.7-48.8C415.4 350.9 401.7 336 384 336l-192 0c-17.7 0-31.4 14.9-38.3 31.2C141.6 395.9 113.1 416 80 416c-44.2 0-80-35.8-80-80c0-30.4 17-56.9 42-70.4c3.6-1.9 6-5.5 6-9.6s-2.4-7.7-6-9.6C17 232.9 0 206.4 0 176c0-44.2 35.8-80 80-80c33.1 0 61.6 20.1 73.7 48.8z"/></svg>') 0 0, auto; /* 기본 커서 */
        }

        .mouse__follow-image {
            left: 15px;
            position: absolute;
            pointer-events: none; /* 이미지가 클릭되지 않도록 */
        }

        .bg__1 {
            background: #FAF3E0;
        }

        .bg__2 {
            background: #FDEDD0;
        }

        .bg__3 {
            background: #3A3A3A;
        }

        .bg__4 {
            background: #4B5D67;
        }

        .bg__5 {
            background: #7DAF82;
        }

        .bg__6 {
            background: #5C8D6D;
        }

        .bg__7 {
            background: #FF6F61;
        }
    </style>
</head>
<body>
<img class="mouse__follow-image mouse__basic" style="display: block;"
     th:src="@{https://github.com/user-attachments/assets/f061e9e5-d2d9-443f-84d6-a15d83a8c5ca}" alt="기본 이미지"/>
<img class="mouse__follow-image mouse__action" style="display: none;"
     th:src="@{https://github.com/user-attachments/assets/a1641cbf-4919-4ef8-8cfb-41d9324bc895}" alt="액션 이미지"/>
<div class="bg__1">배경색: #FAF3E0 (아주 옅은 베이지)</div>
<div class="bg__2">메인 배너 배경: #FDEDD0 (연한 살구색)</div>
<div class="bg__3">기본 텍스트 색상: #3A3A3A (딥 그레이)</div>
<div class="bg__4">헤더 텍스트: #4B5D67 (다크 블루-그레이)</div>
<div class="bg__5">버튼 색상: #7DAF82 (연한 녹색)</div>
<div class="bg__6">호버 버튼 색상: #5C8D6D (진한 녹색)</div>
<div class="bg__7">아이콘 강조 색상: #FF6F61 (연한 코랄)</div>

<script>
    const followImageBasic = document.querySelector('.mouse__basic'); // 기본 이미지 선택
    const followImageAction = document.querySelector('.mouse__action'); // 액션 이미지 선택
    let posX = 0, posY = 0;

    document.addEventListener('mousemove', (event) => {
        posX = event.pageX;
        posY = event.pageY;
    });

    function animate() {
        const currentX = parseFloat(followImageAction.style.left) || 0;
        const currentY = parseFloat(followImageAction.style.top) || 0;

        const offsetX = 15; // X축 오프셋
        const offsetY = 0;  // Y축 오프셋

        // 이동 속도를 조절하는 계수 (0.1 값에서 작을수록 느려짐)
        const speedFactor = 0.05; // 속도를 늦추기 위해 작게 설정

        // 기본 이미지와 액션 이미지의 거리 계산
        const distance = Math.sqrt((posX - currentX) ** 2 + (posY - currentY) ** 2); // 현재 이미지와 마우스 위치 간 거리 계산
        const threshold = 16; // 거리 임계값

        // 기본 이미지의 위치 업데이트
        followImageBasic.style.left = posX + offsetX + 'px'; // 기본 이미지 위치 업데이트
        followImageBasic.style.top = posY + offsetY + 'px';  // 기본 이미지 위치 업데이트

        if (distance > threshold) {
            followImageBasic.style.display = 'none';
            followImageAction.style.display = 'block';
            followImageAction.style.left = currentX + (posX + offsetX - currentX) * speedFactor + 'px'; // X축으로 오프셋 추가
            followImageAction.style.top = currentY + (posY + offsetY - currentY) * speedFactor + 'px';  // Y축으로 오프셋 추가

            // 마우스 방향을 계산하여 회전 각도 설정
            const angle = Math.atan2(posY - currentY, posX - currentX) * (180 / Math.PI); // 라디안 값을 도로 변환

            // 마우스 위치에 따라 좌우 반전 처리
            if (posX < currentX) {
                // 왼쪽을 바라볼 때 (기본값)
                followImageAction.style.transform = `rotate(${angle + 180}deg) scaleX(1)`;
            } else {
                // 오른쪽을 바라볼 때 (이미지를 뒤집음)
                followImageAction.style.transform = `rotate(${angle}deg) scaleX(-1)`;
            }
        } else {
            followImageBasic.style.display = 'block';
            followImageAction.style.display = 'none';
        }

        // 이미지 크기 설정
        const imageHeight = window.innerHeight * 0.04;
        followImageAction.style.width = imageHeight * 2 + 'px';
        followImageAction.style.height = imageHeight * 2 + 'px';
        followImageBasic.style.width = imageHeight * 2 + 'px';
        followImageBasic.style.height = imageHeight * 2 + 'px';

        requestAnimationFrame(animate);
    }

    animate();
</script>
</body>
</html>